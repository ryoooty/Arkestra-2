
# Arkestra ‚Äî –ª–æ–∫–∞–ª—å–Ω–∞—è –ò–ò-–ø–µ—Ä—Å–æ–Ω–∞ –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –∏ –±–µ–∑ API

**Arkestra** ‚Äî —ç—Ç–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ñ–ª–∞–π–Ω-–ª–∏—á–Ω–æ—Å—Ç—å: –≤—Å–µ –º–æ–¥–µ–ª–∏, –ø–∞–º—è—Ç—å, –ø–æ–∏—Å–∫ –∑–Ω–∞–Ω–∏–π –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç **–Ω–∞ –≤–∞—à–µ–º –ü–ö**, –±–µ–∑ –≤–µ–±-–∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –±–µ–∑ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–æ–≤.
–°–∏—Å—Ç–µ–º–∞ –∏–∑ –¥–≤—É—Ö –º–æ–¥–µ–ª–µ–π (junior + senior) –¥—É–º–∞–µ—Ç –ø–æ—à–∞–≥–æ–≤–æ, —Ö—Ä–∞–Ω–∏—Ç ¬´–Ω–µ–π—Ä–æ–ø—Ä–æ—Ñ–∏–ª—å¬ª (—Ö–∏–º–∏—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è), —É–º–µ–µ—Ç –∏–∑–≤–ª–µ–∫–∞—Ç—å —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è —á–µ—Ä–µ–∑ RAG, –≤—ã–∑—ã–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (–∑–∞–º–µ—Ç–∫–∏, –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è, –ø–æ–∏—Å–∫ –∏—Å—Ç–æ—Ä–∏–∏), –∏ –≤—ã–¥–∞—ë—Ç —á–µ–ª–æ–≤–µ–∫–æ–ø–æ–¥–æ–±–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã. –ì–ª–∞–≤–Ω—ã–π –∞–∫—Ü–µ–Ω—Ç –ø—Ä–æ–µ–∫—Ç –Ω–∞ –≤–æ—Å—Å–æ–∑–¥–∞–Ω–∏–∏ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –≤ "–º–æ–∑–≥–µ" –Ω–µ–π—Ä–æ—Å–µ—Ç–∏. –≠—Ç–æ –¥–æ–±–∏–≤–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –Ω–µ–π—Ä–æ—Å–µ—Ç–µ–π –∏ –æ–±—â–µ–Ω–∏—é –º–µ–∂–¥—É –Ω–∏–º–∏.

---

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ (–∫–æ—Ä–æ—Ç–∫–æ)

* üí¨ –î–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–æ–µ –º—ã—à–ª–µ–Ω–∏–µ: Junior ‚Üí –¥–∏—Ä–µ–∫—Ç–∏–≤—ã, Senior ‚Üí —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç
* üß† –ù–µ–π—Ä–æ–ø—Ä–æ—Ñ–∏–ª—å –∏–∑ 10 –º–µ–¥–∏–∞—Ç–æ—Ä–æ–≤(–∏–º–∏—Ç–∞—Ü–∏—è —á–µ–ª–æ–≤–µ—á–µ—Å—Å–∫–∏—Ö —ç–º–æ—Ü–∏–π) ‚Üí –∂–∏–≤–æ–π —Å—Ç–∏–ª—å –∏ ¬´–Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ¬ª
* üìö –õ–æ–∫–∞–ª—å–Ω—ã–π RAG: FAISS + e5-small (–∫–æ—Ä–æ—Ç–∫–∏–π/–≤—Ä–µ–º–µ–Ω–Ω—ã–π/–¥–æ–ª–≥–∏–π –∫–æ–Ω—Ç—É—Ä—ã)
* üóÇ –ü–∞–º—è—Ç—å –≤ SQLite: —Å–æ–æ–±—â–µ–Ω–∏—è, –∑–∞–º–µ—Ç–∫–∏, —Ñ–∞–∫—Ç—ã, –∞–ª–∏–∞—Å—ã, —Ñ–∏–¥–±—ç–∫, –±–∞–Ω–¥–∏—Ç-–º–µ—Ç—Ä–∏–∫–∏
* üõ† –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã: `note.create`, `reminder.create`, `messages.search_by_date`, `alias.add/set_primary`, `tg.message.send` (—Ä–∞—Å—à–∏—Ä—è—é—Ç—Å—è)
* üõ° Guard: –º—è–≥–∫–∞—è —Ü–µ–Ω–∑—É—Ä–∞ PII/–±—Ä–∞–Ω–Ω—ã—Ö —Å–ª–æ–≤
* ‚è∞ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ (APScheduler): –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è, –∞–≤—Ç–æ-—Å–æ–Ω —Å –¥–æ–æ–±—É—á–µ–Ω–∏–µ–º

---

## –°—Ç–µ–∫ –∏ –º–æ–¥–µ–ª–∏

* **Senior**: `mistralai/Mistral-7B-Instruct-v0.3` (–ª–æ–∫–∞–ª—å–Ω–æ –∏–∑ –ø–∞–ø–∫–∏, 4-–±–∏—Ç —á–µ—Ä–µ–∑ bitsandbytes)
* **Junior**: –º–∞–ª–µ–Ω—å–∫–∞—è GGUF-–º–æ–¥–µ–ª—å —á–µ—Ä–µ–∑ `llama.cpp` (–Ω–∞–ø—Ä. Gemma-3n-E4B-it); –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ Qwen/DeepSeek 1‚Äì3B
* **RAG-—ç–º–±–µ–¥–¥–∏–Ω–≥–∏**: `intfloat/e5-small-v2` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é; –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ Qwen3-Embedding-0.6B)
* **–ü–æ–∏—Å–∫**: FAISS (CPU), rerank ‚Äî sentence-transformers (CPU/GPU)
* **–ë–î**: SQLite

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ (Windows-friendly)

```bash
# 1) –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python -m venv .venv
.\.venv\Scripts\activate

# 2) –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ (PyTorch –ø–æ–¥ –≤–∞—à—É CUDA, –∑–∞—Ç–µ–º –æ—Å—Ç–∞–ª—å–Ω–æ–µ)
# –ü—Ä–∏–º–µ—Ä –¥–ª—è CUDA 12.x (–ø–æ–¥–±–µ—Ä–∏—Ç–µ –∫–æ–ª—ë—Å–∞ –ø–æ–¥ —Å–≤–æ—é –≤–µ—Ä—Å–∏—é):
pip install --upgrade pip
pip install torch torchvision --index-url https://download.pytorch.org/whl/cu121

# 3) –û—Å—Ç–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
pip install -r requirements.txt
# –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏: pip install sentence-transformers faiss-cpu

# 4) –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î –∏ –ø–µ—Ä–≤–∏—á–Ω–æ–µ –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏–µ RAG
python -m scripts.migrate
python -m scripts.seed_rag   # –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –º–æ–∂–Ω–æ –ø–æ–∑–∂–µ
```

> **CUDA/bitsandbytes:** –µ—Å–ª–∏ —É–≤–∏–¥–∏—Ç–µ ¬´`The installed version of bitsandbytes was compiled without GPU support`¬ª, –∑–Ω–∞—á–∏—Ç –ø–æ—Å—Ç–∞–≤–ª–µ–Ω CPU-–≤–∞—Ä–∏–∞–Ω—Ç. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–±–æ—Ä–∫—É bnb, —Å–æ–≤–º–µ—Å—Ç–∏–º—É—é —Å –≤–∞—à–µ–π CUDA, –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ FP16/8-–±–∏—Ç –±–µ–∑ bnb.

---

## –ö–æ–Ω—Ñ–∏–≥ –º–æ–¥–µ–ª–µ–π (–ø—Ä–∏–º–µ—Ä)

`config/llm.yaml`:

```yaml
junior:
  provider: llama-cpp
  model_path: "C:\\Users\\kosha\\models\\gemma3n-e4b\\google_gemma-3n-E4B-it-Q4_K_M.gguf"
  n_ctx: 32768        # –µ—Å–ª–∏ –º–æ–¥–µ–ª—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç, –∏–Ω–∞—á–µ 2048‚Äì8192
  n_gpu_layers: 0     # 0 = CPU; –º–æ–∂–Ω–æ >0 –¥–ª—è —á–∞—Å—Ç–∏—á–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ GPU –ø—Ä–∏ CUDA-—Å–±–æ—Ä–∫–µ
  temperature: 0.2
  max_new_tokens: 96

senior:
  provider: transformers
  model_id: "C:\\Users\\kosha\\models\\mistral-7b-instruct-v0_3"
  load_in_4bit: true
  torch_dtype: "float16"
  device_map: "auto"
  temperature: 0.7
  max_new_tokens: 512

embeddings:
  model: "intfloat/e5-small-v2"   # –∏–ª–∏ "Qwen/Qwen3-Embedding-0.6B"
  device: "cpu"                   # –º–æ–∂–Ω–æ "cuda" –ø—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏
```

---

## –ó–∞–ø—É—Å–∫

### CLI (–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π REPL)

```bash
python -m app.io.cli
```

–ö–æ–º–∞–Ω–¥—ã: `/up`, `/down`, `/fb <—Ç–µ–∫—Å—Ç>`, `/ok`, `/sleep`.
–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π/¬´—Å–Ω–∞¬ª —Å—Ç–∞—Ä—Ç—É–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

---

## –û—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

1. `orchestrator.handle_user` —Å–æ–±–∏—Ä–∞–µ—Ç **env_brief** –∏ —Ö–≤–æ—Å—Ç –∏—Å—Ç–æ—Ä–∏–∏.
2. **Junior** –æ—Ç–¥–∞—ë—Ç `<ctrl>` (intent, tools, rag_query, neuro_update) + `<advice>` (—Å—Ç–∏–ª—å).
3. –ü—Ä–∏–º–µ–Ω—è–µ–º **–Ω–µ–π—Ä–æ–ø—Ä–æ—Ñ–∏–ª—å** ‚Üí —Å—Ç–∏–ª—å/–ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏.
4. **RAG**: –≤—ã–¥–∞—ë–º —Ç–æ–ø-—Ñ–∞–∫—Ç—ã (FAISS ‚Üí e5 rerank).
5. **Senior** –≥–µ–Ω–µ—Ä–∏—Ç —Å—Ç—Ä–æ–≥–æ **JSON** –≤ `<json>‚Ä¶</json>`: `text`, –æ–ø—Ü. `tool_calls[]`, `memory[]`, `plan[]`.
6. –í—ã–ø–æ–ª–Ω—è—é—Ç—Å—è `tool_calls` ‚Üí `tool_results` ‚Üí –º–∏–Ω–∏-—Ä–µ—Ñ–∞–π–Ω —Ç–µ–∫—Å—Ç–∞ Senior.
7. **Guard** –º—è–≥–∫–æ –º–∞—Å–∫–∏—Ä—É–µ—Ç PII/–±—Ä–∞–Ω—å ‚Üí —Å–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ç–≤–µ—Ç –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ.

---

## –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏–∑ –∫–æ—Ä–æ–±–∫–∏

* `note.create {text, tags?}` ‚Äî –∑–∞–º–µ—Ç–∫–∞ –≤ SQLite
* `reminder.create {when, title, channel?}` ‚Äî –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ —á–µ—Ä–µ–∑ APScheduler
* `messages.search_by_date {date, span_days?}` ‚Äî –≤—ã–±–æ—Ä–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏
* `alias.add {alias, short_desc?}` / `alias.set_primary {alias}` ‚Äî –∞–ª–∏–∞—Å—ã
* `tg.message.send {to, text}` ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω `config/tg.yaml`)

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –æ–ø–∏—Å–∞–Ω—ã –≤ –∫–æ–¥–µ, –≤—ã–∑—ã–≤–∞—é—Ç—Å—è —Å—Ç—Ä–æ–≥–æ —á–µ—Ä–µ–∑ `tool_calls` Senior. –ù–∏–∫–∞–∫–∏—Ö –≤–Ω–µ—à–Ω–∏—Ö HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤.

---

## –ê–≤—Ç–æ-—Å–æ–Ω (–∫–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è –ø–∞–º—è—Ç–∏)

```bash
python scripts/scheduler.py   # –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –∑–∞–ø—É—Å–∫ —Å–Ω–∞ –≤ 04:00
# –∏–ª–∏ –≤—Ä—É—á–Ω—É—é:
python -m scripts.consolidate_sleep
```

* short ‚Üí temp (–¥–Ω–µ–≤–Ω—ã–µ —Å–≤–æ–¥–∫–∏, curated facts), temp ‚Üí long –ø–æ TTL
* –ø–µ—Ä–µ–∏–Ω–¥–µ–∫—Å RAG, —Å–±—Ä–æ—Å –Ω–µ–π—Ä–æ–ø—Ä–æ—Ñ–∏–ª—è –∫ –±–∞–∑–æ–≤—ã–º
* —ç–∫—Å–ø–æ—Ä—Ç –¥–∞—Ç–∞—Å–µ—Ç–æ–≤: SFT Senior –∏ mini-LoRA Junior

---

## –¢–µ—Å—Ç—ã –∏ —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∞

```bash
# pytest-–ø–∞–∫–µ—Ç: guard, neuro, bandit, rag, e2e —Å –º–æ–∫–∞–º–∏
pytest -q

# –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Å–∞–º–æ–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ (–≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –æ—Ñ–ª–∞–π–Ω, –∑–∞–ø—Ä–µ—Ç HTTP, –º–æ–¥–µ–ª–∏, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã)
python -m scripts.self_check
```

---

## –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ –ø—Ä–µ–≤–µ–Ω—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

* **–ù–µ–≤–∞–ª–∏–¥–Ω—ã–π JSON –æ—Ç Senior**
  –°–∏—Å—Ç–µ–º–∞ –¥–µ–ª–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ø—ã—Ç–æ–∫ –∏ ¬´—á–∏–Ω–∏—Ç¬ª –æ—Ç–≤–µ—Ç. –ï—Å–ª–∏ —Å–æ–≤—Å–µ–º –ø—É—Å—Ç–æ ‚Äî –∏–∑–≤–∏–Ω–µ–Ω–∏–µ –∫–æ—Ä–æ—Ç–∫–∏–º —Ç–µ–∫—Å—Ç–æ–º.
  *–ß—Ç–æ —É–ª—É—á—à–∏—Ç—å:* –¥–µ—Ä–∂–∏—Ç–µ `temperature > 0` –ø—Ä–∏ `do_sample=True`, –ª–∏–±–æ `do_sample=False` –¥–ª—è greedy.

* **`temperature (=0.0) has to be strictly positive`**
  –ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∂—ë—Å—Ç–∫–∏–π greedy: —Å—Ç–∞–≤—å—Ç–µ `do_sample: false` **–∏ —É–±–µ—Ä–∏—Ç–µ** `temperature`.

* **bitsandbytes –±–µ–∑ CUDA**
  –°–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–æ ¬´compiled without GPU support¬ª. –ü–æ—Å—Ç–∞–≤—å—Ç–µ bnb, —Å–æ–±—Ä–∞–Ω–Ω—ã–π –ø–æ–¥ –≤–∞—à—É CUDA, –ª–∏–±–æ –∑–∞–≥—Ä—É–∑–∏—Ç–µ –º–æ–¥–µ–ª—å –≤ 8-–±–∏—Ç/FP16 –±–µ–∑ bnb.

* **Junior –Ω–∞ CPU –º–µ–¥–ª–µ–Ω–Ω—ã–π**
  –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤. –ú–æ–∂–Ω–æ –ø–æ–¥–Ω—è—Ç—å `n_gpu_layers` (–ø—Ä–∏ CUDA-—Å–±–æ—Ä–∫–µ `llama.cpp`) –∏–ª–∏ –≤–∑—è—Ç—å –µ—â—ë –º–µ–Ω—å—à—É—é GGUF.

* **FAISS —á–∏—Ç–∞–µ—Ç –∏–Ω–¥–µ–∫—Å –∫–∞–∂–¥—ã–π –ø–æ–∏—Å–∫**
  –ò–Ω–¥–µ–∫—Å –∫—ç—à–∏—Ä—É–µ—Ç—Å—è –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ. –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –º–Ω–æ–≥–æ ‚Äî –¥–µ—Ä–∂–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å –∂–∏–≤—ã–º (CLI/–±–æ—Ç) –∏ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ ¬´—Å–æ–Ω¬ª –ø–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ—Ç.

* **–û—Ç–∫–ª—é—á—ë–Ω –∏–Ω—Ç–µ—Ä–Ω–µ—Ç**
  –ü—Ä–æ–µ–∫—Ç —Ä–∞—Å—Å—á–∏—Ç–∞–Ω –Ω–∞ –æ—Ñ–ª–∞–π–Ω. –°–∫–∞—á–∞–π—Ç–µ –º–æ–¥–µ–ª–∏ –∑–∞—Ä–∞–Ω–µ–µ (–ø–∞–ø–∫–∏ —Å –≤–µ—Å–∞–º–∏/gguf –≤ `config/llm.yaml`) ‚Äî –æ–Ω–ª–∞–π–Ω –Ω–µ –Ω—É–∂–µ–Ω.

---

## –ü–æ—á–µ–º—É –¥–≤–∞ –∞–≥–µ–Ω—Ç–∞

Junior –¥–µ—à—ë–≤—ã–π –∏ –±—ã—Å—Ç—Ä—ã–π: –æ–Ω **—Ä–µ—à–∞–µ—Ç**, —á—Ç–æ –¥–µ–ª–∞—Ç—å (–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, RAG, —Å—Ç–∏–ª—å, –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ).
Senior —Å–∏–ª—å–Ω—ã–π –∏ –¥–æ—Ä–æ–≥–æ–π: –æ–Ω **—Ñ–æ—Ä–º—É–ª–∏—Ä—É–µ—Ç** —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –∏ —Å—Ç—Ä–æ–≥–æ —Å–æ–±–ª—é–¥–∞–µ—Ç —Ñ–æ—Ä–º–∞—Ç/–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã.
–¢–∞–∫ –º—ã —ç–∫–æ–Ω–æ–º–∏–º —Ç–æ–∫–µ–Ω—ã/VRAM, –ø–æ–≤—ã—à–∞–µ–º —É–ø—Ä–∞–≤–ª—è–µ–º–æ—Å—Ç—å –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Ñ–æ—Ä–º–∞—Ç–∞.

---

## –ó–∞–º–µ–Ω—ã 

* **Senior**: –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ Qwen-7B/8B, Llama-3.1-8B (–µ—Å–ª–∏ –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø), DeepSeek-R1-8B ‚Äî –ø—Ä–æ—Å—Ç–æ —É–∫–∞–∂–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω—É—é –ø–∞–ø–∫—É –≤–µ—Å–æ–≤ –∏ –Ω—É–∂–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–≥—Ä—É–∑–∫–∏.
* **Junior**: –ª—é–±–æ–π 1‚Äì3B GGUF (Qwen/Gemma/Mistral-tiny), –≥–ª–∞–≤–Ω–æ–µ ‚Äî –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π chat-template –≤ –ø—Ä–æ–º–ø—Ç–µ.
* **Embeddings**: –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ `Qwen3-Embedding-0.6B` (—á—É—Ç—å –¥–æ—Ä–æ–∂–µ, –Ω–æ –ª—É—á—à–µ –¥–ª—è RAG), –ª–∏–±–æ –æ—Å—Ç–∞–≤–ª—è–µ–º `e5-small-v2`.

---

## –ú–∏–Ω–∏-FAQ

**–ó–∞—á–µ–º Junior, –µ—Å–ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å Senior?**
–ß—Ç–æ–±—ã Senior –Ω–µ ¬´–≥–∞–¥–∞–ª¬ª, –Ω—É–∂–µ–Ω –ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∏ –∫–∞–∫–æ–π ‚Äî —ç—Ç–æ —Ä–µ—à–∞–µ—Ç Junior; Senior –æ—Å—Ç–∞—ë—Ç—Å—è —Å—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –Ω–∞ —Ö–æ—Ä–æ—à–µ–º —Ç–µ–∫—Å—Ç–µ –∏ —Å—Ç—Ä–æ–≥–æ–º —Ñ–æ—Ä–º–∞—Ç–µ JSON.

**–ù–∞—Å–∫–æ–ª—å–∫–æ ¬´–∂–∏–≤–æ–π¬ª —Å—Ç–∏–ª—å?**
–û—á–µ–Ω—å: –Ω–µ–π—Ä–æ–ø—Ä–æ—Ñ–∏–ª—å (10 –º–µ–¥–∏–∞—Ç–æ—Ä–æ–≤) –º–µ–Ω—è–µ—Ç —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É/–¥–ª–∏–Ω—É/—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ—Å—Ç—å/—Ç–µ–ø–ª–æ—Ç—É/—é–º–æ—Ä. Junior –≤ `<ctrl>` –º–æ–∂–µ—Ç ¬´–ø–æ–¥–∫—Ä—É—Ç–∏—Ç—å¬ª —É—Ä–æ–≤–Ω–∏.

**–ß—Ç–æ —Å –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å—é?**
–í—Å—ë –ª–æ–∫–∞–ª—å–Ω–æ: –º–æ–¥–µ–ª–∏, FAISS, SQLite, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã. Guard –º–∞—Å–∫–∏—Ä—É–µ—Ç PII.

---

### –ë—ã—Å—Ç—Ä—ã–π —á–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º

* [ ] –£–∫–∞–∑–∞–Ω—ã **–ª–æ–∫–∞–ª—å–Ω—ã–µ –ø—É—Ç–∏** –∫ –º–æ–¥–µ–ª—è–º –≤ `config/llm.yaml`
  (Senior: –ø–∞–ø–∫–∞ Mistral-7B; Junior: GGUF-—Ñ–∞–π–ª Gemma-3n-E4B)
* [ ] PyTorch —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –≤–∞—à–µ–π **CUDA**, bnb —Å CUDA (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω int4)
* [ ] `scripts.migrate` –ø—Ä–æ—à—ë–ª –±–µ–∑ –æ—à–∏–±–æ–∫
* [ ] (–û–ø—Ü.) `scripts.seed_rag` –∑–∞–≥—Ä—É–∑–∏–ª –±–∞–∑–æ–≤—ã–µ —Ç–µ–∫—Å—Ç—ã
* [ ] `python -m app.io.cli` ‚Äî –ø–µ—Ä–≤—ã–π –æ—Ç–≤–µ—Ç –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –≤—Ä–µ–º—è (–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥–µ–ª–µ–π)

---
–í –ø–ª–∞–Ω–∞—Ö —Å–æ–∑–¥–∞–Ω–∏—è "—Å–æ–∑–Ω–∞–Ω–∏—è"(–ø–æ—Å—Ç–æ—è–Ω–Ω–æ –∞–∫—Ç–∏–≤–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –º—ã—Å–ª–µ–π –≤–º–µ—Å—Ç–æ —á–∞—Ç –±–æ—Ç–∞), —É–ø—Ä–æ—â–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –æ–±—â–µ–Ω–∏—è –º–µ–∂–¥—É –º–æ–¥–µ–ª—è–º–∏, —Å–æ–∑–¥–∞–Ω–∏–µ –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç–æ–π —Å–∏—Å—Ç–µ–º—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è, —Å–æ–∑–¥–∞–Ω–∏–µ –±–æ–ª–µ–µ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–≥–æ –æ—Å–æ–∑–Ω–∞–Ω–∏—è, —Å–æ–∑–¥–∞–Ω–∏–µ TTS –∏ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –≥–æ–ª–æ—Å–∞, –∞ —Ç–∞–∫–∂–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –≤–æ–π—Å –±–∞–Ω–∫
